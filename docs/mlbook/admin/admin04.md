# 业务实体建模
### 实体管理
---------------
&emsp;&emsp;实体是搭建系统的基础，可根据用户需求自定义设计搭建，配合 触发器、审批流程 等实现各类业务需求。  
&emsp;&emsp;在实体管理中，可以进行实体字段、表单设计、列表设计操作，支持与不同实体之间进行关联，以达成具体业务的实现，例如订单与客户、仓库与库存、订单与订单明细等。  
&emsp;&emsp;在系统实施前期，应当充分考虑与梳理业务实体模型。良好的实体关系设计有利于业务需求的达成，提高系统的易用性，也能够避免冗余或无效数据的存在。

* **添加实体**  
进入系统管理 - 元数据设置 - 实体管理，点击 [新建实体] 进行添加。

![添加实体](https://mldocs.ks3-cn-beijing.ksyuncs.com/%E4%B8%9A%E5%8A%A1%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1/%E6%B7%BB%E5%8A%A0%E5%AE%9E%E4%BD%93%EF%BC%88%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1%EF%BC%89.png)

截图内字段含义分别为： 
显示名称：实体对外的展示名称 
实体名称：数据库唯一的标识名称，仅支持英文，首字母为英文大写字母,自动生成，也支持自行输入。  
实体编码：自动生成  
是否允许设计表单：允许后，支持该实体后续的表单设计，若不允许，则该实体无法进行表单自定义设置，建议允许，否则该实体无法设计表单字段。  
是否允许设计列表：允许后，支持该实体后续的列表设计，若不允许，则该实体无法进行列表自定义设置。  
是否开启记录级权限：开启后，该实体权限控制将精确到部门及以下，设置该实体权限时可选择到个人权限，部门权限等，若不开启，权限则只有无权限及有权限之分，无法精确控制  
是否明细实体：若是明细实体，则表示添加的实体需要依附在一个主实体上，例如订单明细记录通常依附于某个订单。  
所属主实体：实体若为明细实体时，选择依附的主实体。

* **字段管理**  
&emsp;&emsp;点击某实体管理 - 字段管理进入字段管理页面，点击左上角 [新建字段] - 选择字段类型进行添加。接下来进行字段相关配置，最后点击 [确定] 即可。

![新建字段](https://mldocs.ks3-cn-beijing.ksyuncs.com/%E4%B8%9A%E5%8A%A1%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1/%E6%96%B0%E5%BB%BA%E5%AD%97%E6%AE%B5%EF%BC%88%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1%EF%BC%89.png)

* **字段类型**  
&emsp;&emsp;美乐提供丰富的字段类型供使用，不同的字段类型用于不同的数据，例如标题可使用“文本”字段，订单金额使用“小数”字段等。

| 类型 | 说明 |  
| :---: | :---: |  
| 布尔（Boolean）   |  表示真（True）或假（False）的逻辑值（单选，是/否）   |  
|  整数（Integer）   |  没有小数部分的数值   |  
|  精度小数（Decimal）   |  具有固定小数位数的数值，通常用于表示货币、金额等需要保持精度的数据   |  
|  百分比（Percent）   |  用于表示占比或比例的数据类型。它将数值表示为百分数，范围从0到100   |  
|  金额（Money）   |  表示货币数值，用于记录金钱的数额  |  
|  文本（Text）  |  包含字母、数字和符号的简短文本，简单的文本信息, 如客户名称  |  
|  长文本（TextArea）  |  包含更多字符的文本字段，通常用于较长的详情文字描述或备注  |  
|  单选项（Option）  |  从预定义选项中选择一个选项的字段，可以用于分类、状态等数据  |  
|  多选项（Tag）  |  从预定义选项中选择多个选项的字段，适用于多项选择和标记  |  
|  日期（Date）  |  表示特定日期的字段，包括年、月、日  |  
|  日期时间(DateTime)  |  表示特定日期和时间的字段，包括年、月、日、小时和分钟  |  
|  图片(Picture)  |  用于存储图像文件，如照片、图标等  |  
|  文件(File)  |  用于存储各种类型的文件，如文档、PDF、音频等  |  
|  一对一引用(Reference)  |  一种数据关系，用于建立两个实体之间的单向连接。单一引用，如订单的购买客户 

* **系统字段**  
&emsp;&emsp;系统为每个业务实体自动添加以下系统级字段以便能够正常工作，这些字段的值通常由系统自动填写。

 | 类型 | 说明 |  
| :---: | :---: |  
|  id主键   |  用于唯一标识数据库表中每条记录的字段。它是一个唯一的标识符，用于确保每个记录的唯一性。   |  
|  创建时间   |  数据记录的创建日期和时间   |  
|  创建用户   |  创建该条记录的用户的标识符，用于跟踪记录的创建者。   |  
|  最近修改时间   |  记录数据记录的最近一次修改的日期和时间，每当记录被更新时，字段将自动更新以反映最新的修改时间。   |  
|  修改用户   |  最后一次修改该条记录的用户的标识符，用于跟踪记录的最后修改者  |  
|  所属用户  |  该记录所关联的特定用户的标识符（可通过分配修改）  |  
|  所属部门  |  该记录所属的特定部门或组织单元（与所属用户自动联动）  |  


